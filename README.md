# Infrastructure & Configuration Automation

This repository now includes Terraform and Ansible assets for provisioning a single Ubuntu `t3.micro` EC2 instance in AWS and configuring it with Docker. No AWS credentials or secrets are hardcodedâ€”Terraform and Ansible rely on your local AWS CLI credentials.

## Prerequisites
- AWS CLI configured (env vars or shared credentials)
- Terraform >= 1.5
- Ansible installed locally

## Terraform (infra/)
```bash
cd infra
terraform init
terraform plan -var-file=terraform.tfvars.example
terraform apply -var-file=terraform.tfvars.example
# After apply, note outputs: ec2_public_ip and ssh_private_key_path
```
Artifacts to capture for the lab:
- `terraform plan` and `terraform apply` output
- `terraform output`
- AWS Console screenshot of created resources

### Destroy
```bash
terraform destroy -var-file=terraform.tfvars.example
```
Capture destroy proof for cleanup.

## Ansible (ansible/)
1) Update `hosts.ini` `ansible_host` with the EC2 public IP from Terraform output.
2) Run playbook:
```bash
cd ansible
ansible-playbook playbook.yaml
```
Artifacts to capture:
- Screenshot of successful playbook run.

Notes:
- SSH key is generated by Terraform at `infra/keys/lab-key.pem` (gitignored).
- Security group allows SSH/HTTP/HTTPS from `0.0.0.0/0` per lab instruction. Tighten if needed.
- NAT gateway is included (1 AZ) so private subnet has egress. Remove if you must avoid NAT cost.

